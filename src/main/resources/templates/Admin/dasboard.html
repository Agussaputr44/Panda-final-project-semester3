<!DOCTYPE html>
<html
  lang="en"
  th:replace="~{layoutadmin :: layoutadmin(~{::title}, ~{::section}, 'dashboard')}"
  xmlns:th="http://www.thymeleaf.org"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>admin page</title>
  </head>
  <body>
    <section>
      <div class="head-title">
        <div class="left">
          <h1>Dashboard</h1>
          <ul class="breadcrumb">
            <li>
              <a>Dashboard</a>
            </li>
            <li><i class="bx bx-chevron-right"></i></li>
            <li>
              <a class="active">Home</a>
            </li>
          </ul>
        </div>
      </div>

      <ul class="box-info">
        <li>
          <i class="bx bxs-calendar-check"></i>
          <span class="text">
            <h3 th:text="${jumlahPengaduanBulanIni}"></h3>
            <p>Pengaduan bulan ini</p>
          </span>
        </li>
        <li>
          <i class="bx bxs-report"></i>
          <span class="text">
            <h3 th:text="${jumlahPengaduan}"></h3>
            <p>Total Pengaduan</p>
          </span>
        </li>
        <li>
          <i class="bx bxs-group"></i>
          <span class="text">
            <h3 th:text="${jumlahUser}"></h3>
            <p>Total Pengguna</p>
          </span>
        </li>
      </ul>

      <!-- tabel user -->
      <div class="table-data">
        <div class="order">
          <div class="head">
            <h3>Pengguna</h3>
            <i class="bx bx-search"></i>
            <i class="bx bx-filter"></i>
          </div>
          <table>
            <thead>
              <tr>
                <th>NIK</th>
                <th>Nama lengkap</th>
                <th>Alamat</th>
                <th>No Hp</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody th:each="u : ${user}">
              <td th:text="${u.nik}"></td>
              <td th:text="${u.nama_lengkap}"></td>
              <td th:text="${u.alamat}"></td>
              <td th:text="${u.nomor_hp}"></td>
              <td>
                <button>Edit</button>
                <button class="delete">Delete</button>
              </td>
            </tbody>
          </table>
        </div>
      </div>

      <!-- tabel pengaduan -->
      <div class="table-data">
        <div class="order">
          <div class="head">
            <h3>Pengaduan</h3>
            <i class="bx bx-search"></i>
            <i class="bx bx-filter"></i>
          </div>
          <table>
            <thead>
              <tr>
                <th>Nama</th>
                <th>Tanggal Pengaduan</th>
                <th>Pengaduan</th>
                <th>Harapan</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody th:each="p : ${pengaduan}">
              <td th:text="${p.nama}"></td>
              <td th:text="${p.created_at}"></td>
              <td th:text="${p.aduan}"></td>
              <td th:text="${p.harapan}"></td>
              <td>
                <a th:href="@{/panda/edit}">
                  <button>Edit</button>
                </a>
                <a th:href="@{/panda/admin/delete/{id_register}(id_register=${p.id_registrasi})}">
                  <button class="delete">Delete</button>
                </a>
              </td>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </body>
</html>
